CLASS zcl_urlaub_generator DEFINITION PUBLIC FINAL CREATE PUBLIC.
  PUBLIC SECTION.
    INTERFACES if_oo_adt_classrun.
ENDCLASS.

CLASS zmd_cl_urlaub_generator IMPLEMENTATION.
  METHOD if_oo_adt_classrun~main.
    DATA employee   TYPE employee.
    DATA urlaubsanspr  TYPE zmd_urlaubsanspr_a.
    DATA urlaubsanspr TYPE TABLE OF zmd_urlaubsansp_a.
    DATA urlaubsantr  TYPE zmd_urlaubsantr_a.
    DATA urlaubsantr TYPE TABLE OF zmd_urlaubsantr_a.

    " Delete 
    DELETE FROM zmd_urlaubsansp_a.
    out->write( |Deleted Urlaubsanspr체che: { sy-dbcnt }| ).

    DELETE FROM zmd_urlaubsantr_a.
    out->write( |Deleted Urlaubsantr채ge: { sy-dbcnt }| ).

    " Create Urlaubsanspruch
    urlaubsanspruch-client                  = sy-client.
    urlaubsanspruch-urlaubsanspr_id         = cl_system_uuid=>create_uuid_x16_static( ).
    urlaubsanspruch-mitarbeiter             = '000001'.
    urlaubsanspruch-jahr                    = '2024'.
    urlaubsanspruch-urlaubstage             = 30.
    APPEND urlaubsanspr TO urlaubsanspr.

    " Create Urlaubsantrag
    urlaubsantrag-client              = sy-client.
    urlaubsantrag-urlaubsantrag_id    = cl_system_uuid=>create_uuid_x16_static( ).
    urlaubsantrag-antragsteller       = '000001'.
    urlaubsantrag-genehmigender       = '000002'.
    urlaubsantrag-startdatum          = '20240710'.
    urlaubsantrag-enddatum            = '20240720'.
    urlaubsantrag-urlaubstage         = 10.
    urlaubsantrag-kommentar           = 'Sommerurlaub'.
    urlaubsantrag-status              = 'B'. 
    APPEND urlaubsantr TO urlaubsantr.

    " Insert data
    INSERT zmd_urlaubsansp_a FROM TABLE @urlaubsanspr.
    out->write( |Inserted Urlaubsanspr체che: { sy-dbcnt }| ).

    INSERT zmd_urlaubsantr_a FROM TABLE @urlaubsantr.
    out->write( |Inserted Urlaubsantr채ge: { sy-dbcnt }| ).
  ENDMETHOD.
ENDCLASS.
